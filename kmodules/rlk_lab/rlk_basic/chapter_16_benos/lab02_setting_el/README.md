# 实验2：切换异常等级
## 1．实验目的
1)	通过本实验了解和熟悉ARM64汇编。
2)	了解和熟悉ARM64的异常等级。
## 2．实验要求
1)	在实验1的基础上打印当前的异常等级。
2)	在跳转到C语言之前切换异常等级到EL1。
## 3．实验提示
AArch64架构支持4种异常等级。 
1. EL0：用户特权，用于运行普通用户程序。
2. EL1：系统特权，通常用于运行操作系统。
3. EL2：运行虚拟化扩展的虚拟监控程序（Hypervisor）。
4. EL3：运行安全世界中的安全监控器（Secure Monitor）。

当ARM64处理器上电复位时运行在EL3等级中，因此本实验要求在启动汇编代码boot.S中，把处理器的异常等级切换到EL1中。
如果读者使用QEMU模拟器来运行裸机程序，根据ARM64 Linux启动规范的约定，处理器在进入内核之前的异常等级是EL2或者EL1，因此QEMU加载裸机程序时的异常等级是处于EL2。这和在树莓派上运行略有不同，需要读者在启动汇编代码中分别对EL3和EL2的情况分别做不同的处理。
